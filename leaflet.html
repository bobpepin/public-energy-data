<!doctype html>

<link rel="stylesheet" href="https://unpkg.com/leaflet@1.8.0/dist/leaflet.css"
    integrity="sha512-hoalWLoI8r4UszCkZ5kL8vayOGVae1oxXe/2A4AO6J9+580uKHDO3JdHb7NzwwzK5xr/Fs0W40kiNHxM9vyTtQ=="
    crossorigin=""/>
<style>
#map { height: 600px; width: 600px; }
</style>
 <!-- Make sure you put this AFTER Leaflet's CSS -->
 <script src="https://unpkg.com/leaflet@1.8.0/dist/leaflet.js"
   integrity="sha512-BB3hKbKWOc9Ez/TAwyWxNXeoV9c1v6FIeYiBieIWkpLjauysF18NzgR1MBNBXf8/KABdlkX68nAhlwcDFLGPCQ=="
   crossorigin=""></script>

<script src="leaflet-ant-path.es6.js"></script>

<div id="map"></div>

<script>
var map = L.map('map')
    
L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    maxZoom: 19,
    attribution: 'Â© OpenStreetMap'
}).addTo(map);
    

async function loadConnections(url) {
    data = await (await fetch(url)).json();
    return data;
}
    
connection_point_data = [[[56.449552499999996, 10.0378765], [56.670914499999995, 9.886837]], [[57.267212, 9.979697], [57.450695, 10.026742]], [[56.46265328571428, 9.570112714285715], [57.050576466666676, 10.003492533333334]], [[55.496068, 9.0819125], [55.496068, 9.0819125]], [[55.6346, 12.32171], [55.45053, 12.00791]], [[54.923616, 9.785672], [55.027822, 9.351661499999999]], [[55.545798999999995, 9.514843999999998], [55.545798999999995, 9.514843999999998]], [[55.8955735, 12.196541750000002], [55.755691, 12.198973]], [[55.431521000000004, 9.980076666666667], [55.545798999999995, 9.514843999999998]], [[56.421722, 10.895915], [56.21375709999999, 10.226045300000001]], [[55.2519275, 11.774001333333333], [54.959536, 11.174958250000001]], [[55.249257, 10.168535], [55.07023, 10.57612]], [[55.80958483333333, 11.896245666666665], [55.80958483333333, 11.896245666666665]], [[55.717711, 11.491859], [55.645783333333334, 11.932815666666668]], [[55.7501205, 12.485704], [55.755691, 12.198973]], [[56.46265328571428, 9.570112714285715], [56.46265328571428, 9.570112714285715]], [[56.076675, 10.028266], [56.21375709999999, 10.226045300000001]], [[55.545798999999995, 9.514843999999998], [55.712496, 9.489462]], [[55.585099, 12.258356], [55.54376, 12.20485]], [[55.744171, 12.32608], [55.755691, 12.198973]], [[55.2519275, 11.774001333333333], [55.2519275, 11.774001333333333]], [[56.21375709999999, 10.226045300000001], [57.050576466666676, 10.003492533333334]], [[55.755691, 12.198973], [55.755691, 12.198973]], [[55.395611111111116, 10.45324588888889], [55.07023, 10.57612]], [[55.67414544444444, 12.590287444444444], [55.631542, 12.657965]], [[56.028681, 12.563658], [55.8955735, 12.196541750000002]], [[55.885227, 12.338456], [56.028681, 12.563658]], [[55.961136, 12.019283], [55.961136, 12.019283]], [[56.21375709999999, 10.226045300000001], [56.46265328571428, 9.570112714285715]], [[55.507125, 8.57783], [55.507125, 8.57783]], [[56.21375709999999, 10.226045300000001], [56.21375709999999, 10.226045300000001]], [[55.027822, 9.351661499999999], [55.545798999999995, 9.514843999999998]], [[55.5797085, 8.224657], [55.5797085, 8.224657]], [[55.660772, 12.319345], [55.755691, 12.198973]], [[55.67414544444444, 12.590287444444444], [55.7501205, 12.485704]], [[55.6346, 12.32171], [55.6285435, 12.1149735]], [[57.372611000000006, 10.419545], [57.372611000000006, 10.419545]], [[56.920664, 8.5579575], [56.920664, 8.5579575]], [[55.6285435, 12.1149735], [55.6285435, 12.1149735]], [[55.67414544444444, 12.590287444444444], [55.604988999999996, 12.480812]], [[55.053378, 8.836996], [55.027822, 9.351661499999999]], [[55.395611111111116, 10.45324588888889], [55.395611111111116, 10.45324588888889]], [[55.660772, 12.319345], [55.6346, 12.32171]], [[55.7501205, 12.485704], [55.686573, 12.397478]], [[55.6285435, 12.1149735], [55.645783333333334, 11.932815666666668]], [[55.249257, 10.168535], [54.923616, 9.785672]], [[55.755691, 12.198973], [55.45053, 12.00791]], [[55.053378, 8.836996], [55.507125, 8.57783]], [[56.352613, 8.552965], [56.103189, 8.598395]], [[57.050576466666676, 10.003492533333334], [57.050576466666676, 10.003492533333334]], [[55.431521000000004, 9.980076666666667], [55.395611111111116, 10.45324588888889]], [[55.7501205, 12.485704], [55.7501205, 12.485704]], [[56.028681, 12.563658], [55.961136, 12.019283]], [[55.507125, 8.57783], [55.5797085, 8.224657]], [[55.66188011111111, 11.087549777777777], [55.66188011111111, 11.087549777777777]], [[56.483126, 8.575286], [56.920664, 8.5579575]], [[54.959536, 11.174958250000001], [54.959536, 11.174958250000001]], [[56.366732, 10.498075], [56.21375709999999, 10.226045300000001]], [[55.80958483333333, 11.896245666666665], [55.645783333333334, 11.932815666666668]], [[55.545725, 11.641376], [55.645783333333334, 11.932815666666668]], [[56.352613, 8.552965], [56.483126, 8.575286]], [[55.686573, 12.397478], [55.686573, 12.397478]], [[55.885227, 12.338456], [55.8955735, 12.196541750000002]], [[56.670914499999995, 9.886837], [56.670914499999995, 9.886837]], [[55.53232200000001, 9.638878250000001], [55.53232200000001, 9.638878250000001]], [[55.2519275, 11.774001333333333], [54.995765, 11.881601]], [[55.8955735, 12.196541750000002], [55.8955735, 12.196541750000002]], [[55.5797085, 8.224657], [55.952752, 8.797765]], [[57.050576466666676, 10.003492533333334], [57.450695, 10.026742]], [[55.431521000000004, 9.980076666666667], [55.53232200000001, 9.638878250000001]], [[56.449552499999996, 10.0378765], [56.21375709999999, 10.226045300000001]], [[56.352613, 8.552965], [56.46265328571428, 9.570112714285715]], [[55.604988999999996, 12.480812], [55.6346, 12.32171]], [[55.507125, 8.57783], [55.496068, 9.0819125]], [[55.53232200000001, 9.638878250000001], [55.545798999999995, 9.514843999999998]], [[55.66188011111111, 11.087549777777777], [55.645783333333334, 11.932815666666668]], [[55.871017, 11.603077], [55.717711, 11.491859]], [[55.755691, 12.198973], [55.80958483333333, 11.896245666666665]], [[55.6346, 12.32171], [55.755691, 12.198973]], [[55.431521000000004, 9.980076666666667], [55.431521000000004, 9.980076666666667]], [[57.267212, 9.979697], [57.050576466666676, 10.003492533333334]], [[56.352613, 8.552965], [56.49206, 8.218299]], [[55.660772, 12.319345], [55.6285435, 12.1149735]], [[55.496068, 9.0819125], [55.545798999999995, 9.514843999999998]], [[55.717711, 11.491859], [55.66188011111111, 11.087549777777777]], [[55.545798999999995, 9.514843999999998], [56.21375709999999, 10.226045300000001]], [[55.67414544444444, 12.590287444444444], [55.67414544444444, 12.590287444444444]], [[55.929066, 9.182534], [56.46265328571428, 9.570112714285715]], [[57.372611000000006, 10.419545], [57.050576466666676, 10.003492533333334]], [[55.660772, 12.319345], [55.645783333333334, 11.932815666666668]], [[54.959536, 11.174958250000001], [54.995765, 11.881601]], [[56.670914499999995, 9.886837], [57.050576466666676, 10.003492533333334]], [[56.366732, 10.498075], [56.421722, 10.895915]], [[57.114087, 9.502717], [57.050576466666676, 10.003492533333334]], [[55.8955735, 12.196541750000002], [55.961136, 12.019283]], [[55.395611111111116, 10.45324588888889], [55.545798999999995, 9.514843999999998]], [[56.49206, 8.218299], [56.483126, 8.575286]], [[55.027822, 9.351661499999999], [55.027822, 9.351661499999999]]]

async function init() {
    data = await loadConnections("notebooks/connection_points.json");
//     data = connection_point_data;
    console.log(data);
    map.setView(data[0][0], 7);
//     antPolyline = L.polyline.antPath(data, {});
    options = {
        weight: 2,
        hardwareAccelerated: true
    }
    for(let points of data) {
//         antPolyline = L.polyline.antPath(points, options);
//         antPolyline.addTo(map);
        polyline = L.polyline(points);
        polyline.addTo(map);
    }
}

init();
    
</script>